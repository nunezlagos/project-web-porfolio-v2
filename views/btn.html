
    <!--No es necesario que cargues bootstrap en tu proyecto para visualizar el boton de ClaveUnica.-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <!--Necesitas cargar el css cu.css y la fuente roboto ademas del icono svg de ClaveUnica-->
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

    <style>
        .py-4 {
            padding: 30px 0px;
            margin: 0 auto;
        }
        a,button{margin:10px;}
        /*
	BTN Clave Única.
	Estilos gráficos para el botón de ClaveÚnica.
	V 2.0
	por @pyanez
	11/10/2024
*/

/* Boton estilo de base */
.btn-cu {
	display: flex;
	justify-content: center;
	font-family: "Roboto", sans-serif;
	font-weight:bold;
	text-align: center;
	text-decoration:none;
	vertical-align: middle;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	border-radius: 0;
	border:0;
}
.btn-cu:hover{
	text-decoration: none;
}

/*Icono ClaveÚnica*/
.btn-cu .cl-claveunica {
	text-indent: -9999px;
	background: url("<?php echo base_url('img/icon/cu-blanco.svg'); ?>");
	/* Esta URL debe ser modificada según donde 
	    quede disponible el archivo */
}

/*Texto ClaveÚnica*/
.btn-cu .text {
	padding-left: 4px;
	text-decoration:none;
	font-size: 1rem;
	text-rendering:geometricPrecision;
}
/*si no tienes disponible unidades rem usa px*/
.btn-cu .text-px{
	font-size: 16px;
	text-decoration: none;
	padding-left:4px;
	text-rendering: optimizeLegibility;
}
/* Color Estandar */
.btn-cu.btn-color-estandar {
	background-color: #0F69C4;
	color: #FFF;
}
.btn-cu.btn-color-estandar:hover {
	background-color: #0B4E91;
	color: #FFF;
}

.btn-cu.btn-color-estandar:active {
	background-color: #07305A;
	color: #FFF;
}

.btn-cu.btn-color-estandar:focus {
	background-color: #0B4E91;
	color: #FFF;
	outline: 4px solid #FFBE5C;
	outline-offset: 0;
}

/* Tamaño M */
.btn-cu.btn-m {
	width:fit-content;
	min-height:48x;
	padding: 8px 14px 8px 14px !important;
	font-size: 16px;
	line-height:2rem;
}

.btn-cu.btn-m .cl-claveunica {
	width: 24px;
	height: 24px;
	background-size: 24px 24px;
	margin:auto 4px auto 0px;
}

/*Bordes redondeados*/
.btn-cu.rounded-none{
	border-radius: 0%;
}
.btn-cu.rounded-middle{
	border-radius: 4px 4px;
}
.btn-cu.rounded-full{
	border-radius:99px 99px;
}

/*Alto contraste o dark mode*/
.btn-cu.btn-color-highContrast {
	background-color: #625AF6;
	color: #FFF;
}
.btn-cu.btn-color-highContrast:hover {
	background-color: #4943B6;
	color: #FFF;
}

.btn-cu.btn-color-highContrast:active {
	background-color: #2D2971;
	color: #FFF;
}

.btn-cu.btn-color-highContrast:focus {
	background-color: #4943B6;
	color: #FFF;
	outline: 4px solid rgba(216,215,250,1);
	outline-offset: 0;
}

/* Tamaño fluid-width */
.btn-cu.btn-fw {
	max-width: 550px;
	width: 100%;
	display: flex;
	justify-content: center;
}
    </style>


<input type="hidden" name="csrf_token" value="<?php echo $this->security->get_csrf_hash(); ?>">

<a class="btn-cu btn-m btn-color-estandar" href="#" id="btn-claveunica" aria-label="Continuar con ClaveÚnica">
    <span class="cl-claveunica" aria-hidden="true"></span>
    <span class="texto" aria-hidden="true">Iniciar Sesión</span>
</a>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
jQuery(document).ready(function() {
    jQuery("#btn-claveunica").on("click", function(e) {
        e.preventDefault(); // EVITA EL REDIRECT INSTANTÁNEO

        var csrfToken = jQuery("input[name=csrf_token]").val();
		// ESTA URL DEBE SER ESTATICA
        var redirectUrl = "https://siac-local.minciencia.gob.cl/cu/r/login?csrf_token=" + encodeURIComponent(csrfToken);

        window.location.href = redirectUrl; 
    });
});
</script>


